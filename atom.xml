<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>孟宪亮的博客</title>
  
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="http://mengxianliang.github.io/blog/"/>
  <updated>2017-03-17T15:02:18.000Z</updated>
  <id>http://mengxianliang.github.io/blog/</id>
  
  <author>
    <name>孟宪亮</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>图片横排显示测试2</title>
    <link href="http://mengxianliang.github.io/blog/2017/03/17/%E5%9B%BE%E7%89%87%E6%A8%AA%E6%8E%92%E6%98%BE%E7%A4%BA%E6%B5%8B%E8%AF%952/"/>
    <id>http://mengxianliang.github.io/blog/2017/03/17/图片横排显示测试2/</id>
    <published>2017-03-17T11:26:24.000Z</published>
    <updated>2017-03-17T15:02:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>你好 这是我的一片测试博客 哈哈哈哈哈哈哈哈哈哈哈啊哈哈哈哈哈哈啊哈哈哈啊哈哈哈 aha啦啦啦啦啦啦啦垃圾号我及哦啊见覅偶骄傲is就发哦i<br><a id="more"></a><br><div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 50%;"><img src="http://oapjp6spr.bkt.clouddn.com/18210.jpg" alt=""></div><div class="group-picture-column" style="width: 50%;"><img src="http://oapjp6spr.bkt.clouddn.com/196232.jpg" alt=""></div></div><div class="group-picture-row"></div></div></div></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;你好 这是我的一片测试博客 哈哈哈哈哈哈哈哈哈哈哈啊哈哈哈哈哈哈啊哈哈哈啊哈哈哈 aha啦啦啦啦啦啦啦垃圾号我及哦啊见覅偶骄傲is就发哦i&lt;br&gt;
    
    </summary>
    
    
      <category term="随笔" scheme="http://mengxianliang.github.io/blog/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Hello My Blog ！</title>
    <link href="http://mengxianliang.github.io/blog/2017/03/09/Hello%20My%20Blog%20%EF%BC%81/"/>
    <id>http://mengxianliang.github.io/blog/2017/03/09/Hello My Blog ！/</id>
    <published>2017-03-09T03:25:15.000Z</published>
    <updated>2017-03-17T15:04:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>  之前一直在CSDN上写博客，时常有看到人家的个人博客，着实羡慕，所以就东施效颦弄了一个这样一个小站，今后会在这里继续边学习边整理的老套路，记录一下工作、学习中的点滴经验。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;  之前一直在CSDN上写博客，时常有看到人家的个人博客，着实羡慕，所以就东施效颦弄了一个这样一个小站，今后会在这里继续边学习边整理的老套路，记录一下工作、学习中的点滴经验。&lt;/p&gt;

    
    </summary>
    
      <category term="随笔" scheme="http://mengxianliang.github.io/blog/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="http://mengxianliang.github.io/blog/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>iOS 动画解析 XLBallLoading</title>
    <link href="http://mengxianliang.github.io/blog/2017/01/17/iOS%20%E5%8A%A8%E7%94%BB%E8%A7%A3%E6%9E%90%20XLBallLoading/"/>
    <id>http://mengxianliang.github.io/blog/2017/01/17/iOS 动画解析 XLBallLoading/</id>
    <published>2017-01-17T14:56:02.000Z</published>
    <updated>2017-04-12T12:01:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="显示效果"><a href="#显示效果" class="headerlink" title="显示效果"></a>显示效果</h2><p><img src="http://img.blog.csdn.net/20170412171114122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="显示效果"></p>
<a id="more"></a>
<h2 id="一、原理分析"><a href="#一、原理分析" class="headerlink" title="一、原理分析"></a>一、原理分析</h2><h3 id="1、拆解动画"><a href="#1、拆解动画" class="headerlink" title="1、拆解动画"></a>1、拆解动画</h3><p>从效果图来看，动画可拆解成两部分：<code>放大动画</code>、<code>位移动画</code><br><code>放大动画</code> 比较简单，这里主要来分析一下<code>位移动画</code></p>
<p><strong>1、先去掉放大/缩小效果：</strong></p>
<p><img src="http://img.blog.csdn.net/20170412172237518?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="屏蔽放大效果"></p>
<p><strong>2、去掉其中的一个圆球</strong></p>
<p><img src="http://img.blog.csdn.net/20170412172645122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>现在基本可以看出主要原理就是让其中一个圆球绕另一个球做<code>圆弧运动</code>，下面咱们重点说一下这个<code>圆弧运动</code>的原理。</p>
<h3 id="2、圆弧运动"><a href="#2、圆弧运动" class="headerlink" title="2、圆弧运动"></a>2、圆弧运动</h3><p>为了方便观察我们先放慢一下这个动画，然后添加辅助线：<br><img src="http://img.blog.csdn.net/20170412181029776?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="放慢后的效果图"></p>
<p>从图中可以看出，蓝色球主要经过了三段轨迹</p>
<p>第一段：从左边缘逆时针运动180°到灰色球的右侧<br>第二段：从灰色球右侧贴着灰色球逆时针运动180°到其左侧<br>第三段：从灰色球左侧返回起始位置</p>
<p>既然分析出了运动轨迹，下面实现起来就方便了</p>
<p>第一段：<br><img src="http://img.blog.csdn.net/20170412194822889?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>第二段：<br><img src="http://img.blog.csdn.net/20170412192817583?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="第二段运动轨迹示意"></p>
<h2 id="二、实现代码"><a href="#二、实现代码" class="headerlink" title="二、实现代码"></a>二、实现代码</h2><p>第一段运动的的实现<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//动画容器的宽度</span></div><div class="line">   <span class="built_in">CGFloat</span> width = _ballContainer.bounds.size.width;</div><div class="line">   <span class="comment">//小圆半径</span></div><div class="line">   <span class="built_in">CGFloat</span> r = (_ball1.bounds.size.width)*ballScale/<span class="number">2.0</span>f;</div><div class="line">   <span class="comment">//大圆半径</span></div><div class="line">   <span class="built_in">CGFloat</span> R = (width/<span class="number">2</span> + r)/<span class="number">2.0</span>;</div><div class="line">   <span class="built_in">UIBezierPath</span> *path1 = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">   <span class="comment">//设置起始位置</span></div><div class="line">   [path1 moveToPoint:_ball1.center];</div><div class="line">   <span class="comment">//画大圆（第一段的运动轨迹）</span></div><div class="line">   [path1 addArcWithCenter:<span class="built_in">CGPointMake</span>(R + r, width/<span class="number">2</span>) radius:R startAngle:M_PI endAngle:M_PI*<span class="number">2</span> clockwise:<span class="literal">NO</span>];</div></pre></td></tr></table></figure></p>
<p>第二段运动：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//画小圆</span></div><div class="line">    <span class="built_in">UIBezierPath</span> *path1_1 = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    <span class="comment">//圆心为灰色小球的中心 半径为灰色小球的半径</span></div><div class="line">    [path1_1 addArcWithCenter:<span class="built_in">CGPointMake</span>(width/<span class="number">2</span>, width/<span class="number">2</span>) radius:r*<span class="number">2</span> startAngle:M_PI*<span class="number">2</span> endAngle:M_PI clockwise:<span class="literal">NO</span>];</div><div class="line">    [path1 appendPath:path1_1];</div></pre></td></tr></table></figure></p>
<p>第三段运动：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//回到原处</span></div><div class="line">    [path1 addLineToPoint:_ball1.center];</div></pre></td></tr></table></figure></p>
<p>利用关键帧动画实现小球沿设置好的贝塞尔曲线移动：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//执行动画</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> *animation1 = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"position"</span>];</div><div class="line">animation1.path = path1.CGPath;</div><div class="line">animation1.removedOnCompletion = <span class="literal">YES</span>;</div><div class="line">animation1.duration = [<span class="keyword">self</span> animationDuration];</div><div class="line">animation1.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</div><div class="line">[_ball1.layer addAnimation:animation1 forKey:<span class="string">@"animation1"</span>];</div></pre></td></tr></table></figure></p>
<p>在每次位移动画开始时执行缩放动画:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//放大缩小动画</span></div><div class="line">-(<span class="keyword">void</span>)animationDidStart:(<span class="built_in">CAAnimation</span> *)anim&#123;</div><div class="line">    </div><div class="line">    <span class="built_in">CGFloat</span> delay = <span class="number">0.3</span>f;</div><div class="line">    <span class="built_in">CGFloat</span> duration = [<span class="keyword">self</span> animationDuration]/<span class="number">2</span> - delay;</div><div class="line">    </div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:duration delay:delay options:<span class="built_in">UIViewAnimationOptionCurveEaseOut</span>| <span class="built_in">UIViewAnimationOptionBeginFromCurrentState</span> animations:^&#123;</div><div class="line">        _ball1.transform = <span class="built_in">CGAffineTransformMakeScale</span>(ballScale, ballScale);</div><div class="line">        _ball2.transform = <span class="built_in">CGAffineTransformMakeScale</span>(ballScale, ballScale);</div><div class="line">        _ball3.transform = <span class="built_in">CGAffineTransformMakeScale</span>(ballScale, ballScale);</div><div class="line">    &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">        [<span class="built_in">UIView</span> animateWithDuration:duration delay:delay options:<span class="built_in">UIViewAnimationOptionCurveEaseInOut</span>| <span class="built_in">UIViewAnimationOptionBeginFromCurrentState</span> animations:^&#123;</div><div class="line">            _ball1.transform = <span class="built_in">CGAffineTransformIdentity</span>;</div><div class="line">            _ball2.transform = <span class="built_in">CGAffineTransformIdentity</span>;</div><div class="line">            _ball3.transform = <span class="built_in">CGAffineTransformIdentity</span>;</div><div class="line">        &#125; completion:<span class="literal">nil</span>];</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在每次动画结束时从新执行动画：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)animationDidStop:(<span class="built_in">CAAnimation</span> *)anim finished:(<span class="built_in">BOOL</span>)flag&#123;</div><div class="line">    <span class="keyword">if</span> (_stopAnimationByUser) &#123;<span class="keyword">return</span>;&#125;</div><div class="line">    [<span class="keyword">self</span> startPathAnimate];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/mengxianliang/XLBallLoading" target="_blank" rel="external"><strong>Github地址</strong></a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;显示效果&quot;&gt;&lt;a href=&quot;#显示效果&quot; class=&quot;headerlink&quot; title=&quot;显示效果&quot;&gt;&lt;/a&gt;显示效果&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170412171114122?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMzI4MjUwNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;显示效果&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>My Second Blog</title>
    <link href="http://mengxianliang.github.io/blog/2017/01/17/My-Second-Blog/"/>
    <id>http://mengxianliang.github.io/blog/2017/01/17/My-Second-Blog/</id>
    <published>2017-01-17T14:56:02.000Z</published>
    <updated>2017-03-17T16:53:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>  之前一直在CSDN上写博客，时常有看到人家的个人博客，着实羡慕，所以就东施效颦弄了一个这样一个小站，今后会在这里继续边学习边整理的老套路，记录一下工作、学习中的点滴经验。</p>
<div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 50%;"><img src="http://oapjp6spr.bkt.clouddn.com/18210.jpg" alt=""></div><div class="group-picture-column" style="width: 50%;"><img src="http://oapjp6spr.bkt.clouddn.com/196232.jpg" alt=""></div></div><div class="group-picture-row"></div></div></div>
<p>Hexo lalalalajflajsf封号福阿拉丁俊发腻好久佛爱家安居房垃圾搜if假按揭多否福哦啊接大佛爱U盾佛爱神的箭佛氨基酸的佛爱苏菲奥is就大佛阿斯U盾佛爱复苏哦</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;  之前一直在CSDN上写博客，时常有看到人家的个人博客，着实羡慕，所以就东施效颦弄了一个这样一个小站，今后会在这里继续边学习边整理的老套路，记录一下工作、学习中的点滴经验。&lt;/p&gt;
&lt;div class=&quot;group-picture&quot;&gt;&lt;div class=&quot;group-
    
    </summary>
    
    
  </entry>
  
</feed>
